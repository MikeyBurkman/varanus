'use strict';
const index_1 = require('./index');
const varanus = index_1.default({
    flush: function () { },
    maxRecords: 4000,
    level: 'info'
});
const monitor = varanus.newMonitor(__filename);
function fn() { }
const fnInfo = monitor.info(fn);
const fnDebug = monitor.debug(fn);
const fnTrace = monitor.trace(fn);
const fnLogTimeInfo = function () {
    const time = Date.now();
    monitor.logTime('info', 'fooFn', time, time + 50);
};
const fnLogTimeTrace = function () {
    return monitor.logTime('debug', 'fooFn', 0, 42);
};
const rawTime = time(fn);
console.log('Monitor Info Overhead/Call: ', time(fnInfo) - rawTime, 'ns');
console.log('Monitor Debug Overhead/Call: ', time(fnDebug) - rawTime, 'ns');
console.log('Monitor trace Overhead/Call: ', time(fnTrace) - rawTime, 'ns');
console.log('LogTime Info Time/Call: ', time(fnLogTimeInfo), 'ns');
console.log('LogTime Debug Time/Call: ', time(fnLogTimeTrace), 'ns');
process.exit(0);
function time(f) {
    const iterations = 1000000;
    const start = process.hrtime();
    for (let i = 0; i < iterations; i += 1) {
        f();
    }
    const res = Math.ceil(toNanos(process.hrtime(start)) / iterations);
    varanus.flush();
    return res;
}
function toNanos(time) {
    return time[0] * 1e9 + time[1];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGVyZlRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJwZXJmVGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7QUFFYix3QkFBd0IsU0FBUyxDQUFDLENBQUE7QUFFbEMsTUFBTSxPQUFPLEdBQUcsZUFBVyxDQUFDO0lBQzFCLEtBQUssRUFBRSxjQUFZLENBQUM7SUFDcEIsVUFBVSxFQUFFLElBQUk7SUFDaEIsS0FBSyxFQUFFLE1BQU07Q0FDZCxDQUFDLENBQUM7QUFFSCxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBRS9DLGdCQUFlLENBQUM7QUFFaEIsTUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUNoQyxNQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBQ2xDLE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDbEMsTUFBTSxhQUFhLEdBQUc7SUFDcEIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0lBQ3hCLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsSUFBSSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0FBQ3BELENBQUMsQ0FBQztBQUNGLE1BQU0sY0FBYyxHQUFHO0lBQ3JCLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ2xELENBQUMsQ0FBQztBQUVGLE1BQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN6QixPQUFPLENBQUMsR0FBRyxDQUFDLDhCQUE4QixFQUFFLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDMUUsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQkFBK0IsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzVFLE9BQU8sQ0FBQyxHQUFHLENBQUMsK0JBQStCLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztBQUM1RSxPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNuRSxPQUFPLENBQUMsR0FBRyxDQUFDLDJCQUEyQixFQUFFLElBQUksQ0FBQyxjQUFjLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUNyRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBRWhCLGNBQWMsQ0FBVztJQUN2QixNQUFNLFVBQVUsR0FBRyxPQUFPLENBQUM7SUFDM0IsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQy9CLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUN2QyxDQUFDLEVBQUUsQ0FBQztJQUNOLENBQUM7SUFDRCxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUMsVUFBVSxDQUFDLENBQUM7SUFDakUsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2hCLE1BQU0sQ0FBQyxHQUFHLENBQUM7QUFDYixDQUFDO0FBRUQsaUJBQWlCLElBQWM7SUFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLENBQUMifQ==